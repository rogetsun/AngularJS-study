<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="../../../assets/bootstrap/css/bootstrap.css"/>
    <link rel="stylesheet" href="../../../assets/ngCropper/cropper/dist/cropper.css">
    <style>
        .img-li {
            margin: 5px;
            padding: 1px;
            float: left;
            position: relative;
        }

        .img {
            height: 90px;
            width: 90px;
        }
    </style>
</head>
<body ng-app="app" ng-controller="ctrl">
<div class="well" style="overflow: auto;">
    <ul style="list-style:none;">
        <li ng-repeat="i in imgArray track by $index" class="img-li">
            <img class="img" ng-src="data:image/png;base64,{{i}}">
        </li>
        <li class="img-li" style="">
            <uv-cropper-img class="text-center" img-url="dataURL" img-max-width="400" img-cropper="addImg(dataURL)"
                            init-img-max-width="1000" img-ratio="1"
                            style="border: 1px dotted #333;height:90px;width:90px;">
                <h1 style="color: rgba(22,22,22,0.5);z-index: -1;">+</h1>
            </uv-cropper-img>
        </li>
    </ul>
</div>
<hr>
<div class="well">
    Created by uv2sun on 15/4/10. <br>
    本指令基于ngCropper修改,但不需要依赖,已经将ngCropper合并进来,可以抛弃ngCropper了<br>
    依赖jQuery，cropper.js，cropper.css, angular.js, bootstrap.css<br>
    <br>
    直接使用指令uvCropperImg<br>
    4个属性：<br>
    imgUrl：最后生成的图片base64码<br>
    imgRatio：图片横纵比, 不给则不限制横纵比<br>
    imgMaxWidth：最后生成图片最大宽度<br>
    imgCropper：最后生成截选图片后，调用的方法。<br>
    initImgMaxWidth: 获取到图片后，直接缩放成这个宽度。<br>
</div>

</body>
<script src="../../../assets/jquery/jquery-1.11.2.min.js"></script>
<script src="../../../assets/ngCropper/cropper/dist/cropper.js"></script>
<script src="../../../assets/angular/angular.js"></script>
<script src="uvCropper.js"></script>
<script>
    angular.module('app', ['uvCropper'])
            .controller('ctrl', function ($scope) {
                $scope.imgArray = [];
                $scope.dataURL = "";
                $scope.addImg = function (a) {
                    $scope.imgArray[$scope.imgArray.length] = a;
                    $scope.dataURL = "";
                }
            });


</script>
</html>